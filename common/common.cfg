# Common Clang arguments for all targets.

--target=mos

# Default to full link-time-optimization. This provides code generation much
# more akin to what a ASM programmer will do by hand: callers and callees are
# optimized together. The downside is compile performance, but binaries are
# nearly always less than 64K, so this isn't much of a problem.
-flto

# Default to size-optimization. The 64K barrier is usually more of an
# impediment than cycle count, but both are important. The biggest change from
# -O2 is less aggressive inlining and loop unrolling.
-Os

-isystem ${CMAKE_CURRENT_BINARY_DIR}/include
-L${CMAKE_CURRENT_BINARY_DIR}/ldscripts
-L${CMAKE_CURRENT_BINARY_DIR}/lib
